{"version":3,"file":"902.2d70bcfb.chunk.js","mappings":"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","sources":["webpack://carbonio-login-ui/./assets/logo-chrome.svg","webpack://carbonio-login-ui/./assets/logo-firefox.svg","webpack://carbonio-login-ui/./assets/logo-edge.svg","webpack://carbonio-login-ui/./assets/logo-safari.svg","webpack://carbonio-login-ui/./assets/logo-opera.svg","webpack://carbonio-login-ui/./assets/logo-yandex.svg","webpack://carbonio-login-ui/./assets/logo-ucbrowser.svg","webpack://carbonio-login-ui/./assets/carbonio_loginpage.jpg","webpack://carbonio-login-ui/./assets/carbonio_loginpage-retina.jpg","webpack://carbonio-login-ui/./assets/logo-carbonio.png","webpack://carbonio-login-ui/./src/components-v1/modals.jsx","webpack://carbonio-login-ui/./src/components-v1/spinner.jsx","webpack://carbonio-login-ui/./src/components-v1/credentials-form.jsx","webpack://carbonio-login-ui/./src/components-v1/v1-login-manager.jsx","webpack://carbonio-login-ui/./src/services/v1-service.js","webpack://carbonio-login-ui/./src/components-v1/change-password-form.jsx","webpack://carbonio-login-ui/./src/components-v1/v2-login-manager.jsx","webpack://carbonio-login-ui/./src/services/v2-service.js","webpack://carbonio-login-ui/./src/components-index/server-not-responding.jsx","webpack://carbonio-login-ui/./src/components-v1/form-selector.jsx","webpack://carbonio-login-ui/./src/services/auth-configuration-service.js","webpack://carbonio-login-ui/./src/components-index/zimbra-form.jsx","webpack://carbonio-login-ui/./src/components-v1/page-layout.jsx"],"sourcesContent":["export default __webpack_public_path__ + \"assets/c201cd88dd8ac881fb5116d6e523f6c0.svg\";","export default __webpack_public_path__ + \"assets/4692c32b7a3da0c90b16af9b4c511dc5.svg\";","export default __webpack_public_path__ + \"assets/bf91cbb0a8890f791877c30804d22033.svg\";","export default __webpack_public_path__ + \"assets/af8f8b8de3c2c64dd9e0e26f9e326c76.svg\";","export default __webpack_public_path__ + \"assets/37914751a841e5bada7088f083ebe8f1.svg\";","export default __webpack_public_path__ + \"assets/38bfc573882a13cd65849d7c094d4ad3.svg\";","export default __webpack_public_path__ + \"assets/21fac676d4a152cb019e995ec686929c.svg\";","export default __webpack_public_path__ + \"assets/8b90fe7b942c6f389f1ddd01103d3b0e.jpg\";","export default __webpack_public_path__ + \"assets/a2ca34c391de073172d480fe7977954a.jpg\";","export default __webpack_public_path__ + \"assets/c469e23959fd19cc40fbb5e56c083c86.png\";","/*\n * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { useTranslation } from 'react-i18next';\nimport React from 'react';\n\nimport { Modal, Paragraph } from '@zextras/carbonio-design-system';\n\nexport function OfflineModal ({ open, onClose }) {\n\tconst [ t ] = useTranslation();\n\treturn (\n\t\t<Modal\n\t\t\ttitle=\"Offline\"\n\t\t\topen={open}\n\t\t\tonClose={onClose}\n\t\t>\n\t\t\t<Paragraph>\n\t\t\t\t{t('offline', 'You are currently offline, please check your internet connection')}\n\t\t\t</Paragraph>\n\t\t</Modal>\n\t);\n}\n\n","/*\n * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React from 'react';\nimport styled from 'styled-components';\n\nconst StyledSpinner = styled.svg`\n  animation: rotate 2s linear infinite;\n  margin: -25px 0 0 -25px;\n  width: 50px;\n  height: 50px;\n  \n  & .path {\n    stroke: #0000FF;\n    animation: dash 1.5s ease-in-out infinite;\n  }\n  \n  @keyframes rotate {\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n  @keyframes dash {\n    0% {\n      stroke-dasharray: 1, 150;\n      stroke-dashoffset: 0;\n    }\n    50% {\n      stroke-dasharray: 90, 150;\n      stroke-dashoffset: -35;\n    }\n    100% {\n      stroke-dasharray: 90, 150;\n      stroke-dashoffset: -124;\n    }\n  }\n`;\n\nexport default function Spinner() {\n\treturn (\n\t\t<StyledSpinner viewBox=\"0 0 50 50\">\n\t\t\t<circle\n\t\t\t\tclassName=\"path\"\n\t\t\t\tcx=\"25\"\n\t\t\t\tcy=\"25\"\n\t\t\t\tr=\"20\"\n\t\t\t\tfill=\"none\"\n\t\t\t\tstrokeWidth=\"4\"\n\t\t\t/>\n\t\t</StyledSpinner>\n\t);\n}\n","/*\n * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { useCallback, useEffect, useState, useMemo } from 'react';\nimport { Button, Input, PasswordInput, Row, Select, Text } from '@zextras/carbonio-design-system';\nimport { useTranslation } from 'react-i18next';\n\nimport { getCookieKeys, getCookie, setCookie } from \"../utils\";\nimport { checkClassicUi } from \"../services/login-page-services\";\n\nconst urlParams = new URLSearchParams(window.location.search);\n\nconst uiList = [\n\t{ label: 'Classic', value: 'classic' },\n\t{ label: 'Iris', value: 'iris' }\n];\n\nexport default function CredentialsForm({\n\tauthError,\n\tsubmitCredentials,\n\tconfiguration,\n\tdisableInputs,\n\tloading = false\n}) {\n\tconst [t] = useTranslation();\n\n\tconst [username, setUsername] = useState(urlParams.get('username') || '');\n\tconst [password, setPassword] = useState('');\n\tconst [hasClassicUi, setHasClassicUi] = useState(false);\n\n\tconst defaultUi = useMemo(() => {\n\t\tconst cookieKeys = getCookieKeys();\n\t\tif ( cookieKeys.includes('UI') ) {\n\t\t\treturn getCookie('UI') === 'iris' ? uiList[1] : uiList[0]\n\t\t}\n\t\tsetCookie('UI', 'iris');\n\t\treturn uiList[1]\n\t}, []);\n\n\tconst submitUserPassword = useCallback((e) => {\n\t\te.preventDefault();\n\t\tif (username && password) {\n\t\t\tlet usernameModified = username;\n\t\t\tif (urlParams.has('virtualacctdomain')) {\n\t\t\t\tusernameModified = `${usernameModified.replace('@', '.')}@${urlParams.get('virtualacctdomain')}`;\n\t\t\t}\n\t\t\telse if (urlParams.has('customerDomain') && !username.includes('@')) {\n\t\t\t\tusernameModified = `${usernameModified.trim()}@${urlParams.get('customerDomain')}`;\n\t\t\t}\n\t\t\tsubmitCredentials(usernameModified, password);\n\t\t}\n\t}, [username, password, submitCredentials]);\n\n\tconst samlButtonCbk = useCallback(() => {\n\t\twindow.location.assign(\n\t\t\t`/zx/auth/startSamlWorkflow?redirectUrl=${\n\t\t\t\tconfiguration.destinationUrl\n\t\t\t}`\n\t\t);\n\t}, [configuration]);\n\tconst samlButton = useMemo(() => {\n\t\tif (configuration.authMethods.includes('saml')) {\n\t\t\treturn (\n\t\t\t\t<Button\n\t\t\t\t\ttype=\"outlined\"\n\t\t\t\t\tlabel={t('login_saml', 'Login SAML')}\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tdisabled={disableInputs}\n\t\t\t\t\tonClick={samlButtonCbk}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t// used to keep the correct space where or not SAML is shown\n\t\t\t<div style={{ minHeight: '20px' }} />\n\t\t);\n\t}, [configuration, disableInputs, samlButtonCbk]);\n\n\tuseEffect(() => {\n\t\tcheckClassicUi().then(res => {\n\t\t\tsetHasClassicUi(res.hasClassic);\n\t\t\tif (!res.hasClassic) {\n\t\t\t\tsetCookie('UI', 'iris');\n\t\t\t}\n\t\t})\n\t}, [])\n\n\treturn (\n\t\t<form onSubmit={submitUserPassword} style={{ width: '100%' }}>\n\t\t\t<input type=\"submit\" style={{ display: 'none' }} />\n\t\t\t<Row padding={{ bottom: 'large' }}>\n\t\t\t\t<Input\n\t\t\t\t\tdefaultValue={username}\n\t\t\t\t\tdisabled={disableInputs}\n\t\t\t\t\tonChange={(e) => setUsername(e.target.value)}\n\t\t\t\t\thasError={!!authError}\n\t\t\t\t\tautocomplete=\"username\"\n\t\t\t\t\tlabel={t('username', 'Username')}\n\t\t\t\t\tbackgroundColor=\"gray5\"\n\t\t\t\t/>\n\t\t\t</Row>\n\t\t\t<Row padding={{ bottom: 'small' }}>\n\t\t\t\t<PasswordInput\n\t\t\t\t\tdefaultValue={password}\n\t\t\t\t\tdisabled={disableInputs}\n\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\n\t\t\t\t\thasError={!!authError}\n\t\t\t\t\tautocomplete=\"password\"\n\t\t\t\t\tlabel={t('password', 'Password')}\n\t\t\t\t\tbackgroundColor=\"gray5\"\n\t\t\t\t/>\n\t\t\t</Row>\n\t\t\t{hasClassicUi && (\n\t\t\t\t<Row padding={{vertical: 'small'}}>\n\t\t\t\t\t<Select\n\t\t\t\t\t\tlabel={t('select_ui', 'Select UI')}\n\t\t\t\t\t\titems={uiList}\n\t\t\t\t\t\tonChange={(newUI) => {\n\t\t\t\t\t\t\tsetCookie('UI', newUI === 'iris' ? 'iris' : 'legacy-zcs')\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tdefaultSelection={defaultUi}\n\t\t\t\t\t/>\n\t\t\t\t</Row>\n\t\t\t)}\n\t\t\t<Text color=\"error\" size=\"medium\" overflow=\"break-word\">\n\t\t\t\t{authError || <br />}\n\t\t\t</Text>\n\t\t\t<Row orientation=\"vertical\" crossAlignment=\"flex-start\" padding={{ bottom: 'large', top: 'small' }}>\n\t\t\t\t<Button loading={loading} onClick={submitUserPassword} disabled={disableInputs} label={t('login', 'Login')} size=\"fill\" />\n\t\t\t</Row>\n\t\t\t<Row mainAlignment=\"flex-end\" padding={{ bottom: 'extralarge' }}>\n\t\t\t\t{samlButton}\n\t\t\t</Row>\n\t\t</form>\n\t);\n}\n","/*\n * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { useCallback, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Row, Snackbar } from '@zextras/carbonio-design-system';\nimport { OfflineModal } from './modals';\nimport Spinner from './spinner';\nimport CredentialsForm from './credentials-form';\nimport { postV1Login } from '../services/v1-service';\nimport { saveCredentials } from '../utils';\n\nexport default function V1LoginManager({ configuration, disableInputs }) {\n\tconst [t] = useTranslation();\n\n\tconst [loading, setLoading] = useState(false);\n\tconst [progress, setProgress] = useState('credentials');\n\n\tconst [authError, setAuthError] = useState();\n\n\tconst [snackbarNetworkError, setSnackbarNetworkError] = useState(false);\n\tconst [detailNetworkModal, setDetailNetworkModal] = useState(false);\n\n\tconst submitCredentials = useCallback((username, password) => {\n\t\tsetLoading(true);\n\t\treturn postV1Login('password', username, password)\n\t\t\t.then(async res => {\n\t\t\t\tswitch (res.status) {\n\t\t\t\t\tcase 200:\n\t\t\t\t\t\tawait saveCredentials(username, password);\n\t\t\t\t\t\twindow.location.assign(configuration.destinationUrl);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 401:\n\t\t\t\t\t\tsetAuthError(t('credentials_not_valid', 'Credentials are not valid, please check data and try again'));\n\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 403:\n\t\t\t\t\t\tsetAuthError(t('auth_not_valid', 'The authentication policy needs more steps: please contact your administrator for more information'));\n\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tsetSnackbarNetworkError(true);\n\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => setLoading(false));\n\t}, [configuration.destinationUrl]);\n\n\tconst onCloseCbk = useCallback(() => setDetailNetworkModal(false), [setDetailNetworkModal]);\n\tconst onSnackbarActionCbk = useCallback(() => setDetailNetworkModal(true), [setDetailNetworkModal]);\n\tconst onCloseSnackbarCbk = useCallback(() => setSnackbarNetworkError(false), [setSnackbarNetworkError]);\n\n\treturn (\n\t\t<>\n\t\t\t{progress === 'credentials'\n\t\t\t&& (\n\t\t\t\t<CredentialsForm\n\t\t\t\t\tconfiguration={configuration}\n\t\t\t\t\tdisableInputs={disableInputs}\n\t\t\t\t\tauthError={authError}\n\t\t\t\t\tsubmitCredentials={submitCredentials}\n\t\t\t\t\tloading={loading}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t{progress === 'waiting'\n\t\t\t&& (\n\t\t\t\t<Row\n\t\t\t\t\torientation=\"vertical\"\n\t\t\t\t\tcrossAlignment=\"center\"\n\t\t\t\t\tpadding={{ vertical: 'extralarge' }}\n\t\t\t\t>\n\t\t\t\t\t<Spinner/>\n\t\t\t\t</Row>\n\t\t\t)}\n\t\t\t<Snackbar\n\t\t\t\topen={snackbarNetworkError}\n\t\t\t\tlabel={t('cant_login', 'Can not do the login now')}\n\t\t\t\tactionLabel={t('details', 'Details')}\n\t\t\t\tonActionClick={onSnackbarActionCbk}\n\t\t\t\tonClose={onCloseSnackbarCbk}\n\t\t\t\tautoHideTimeout={10000}\n\t\t\t\ttype=\"error\"\n\t\t\t/>\n\t\t\t<OfflineModal\n\t\t\t\topen={detailNetworkModal}\n\t\t\t\tonClose={onCloseCbk}\n\t\t\t/>\n\t\t</>\n\t);\n}\n","// SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>\n//\n// SPDX-License-Identifier: AGPL-3.0-only\n\nimport { getDeviceModel, deviceId } from '../utils';\n\nexport function postV1Login(authMethod, user, password, service) {\n\treturn fetch('/zx/auth/v1/login', {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\t'X-Device-Model': getDeviceModel(),\n\t\t\t'X-Device-Id': deviceId(),\n\t\t\t'X-Service': 'webUI',\n\t\t\t'Content-Type': 'application/json'\n\t\t},\n\t\tbody: JSON.stringify({\n\t\t\tauth_method: authMethod,\n\t\t\tuser,\n\t\t\tpassword\n\t\t})\n\t});\n}\n","/*\n * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { Row, Text, Input, Button, PasswordInput } from '@zextras/carbonio-design-system';\nimport React, { useState, useCallback, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n\tZM_AUTH_TOKEN,\n\tZIMBRA_PASSWORD_MAX_LENGTH_ATTR_NAME,\n\tZIMBRA_PASSWORD_MIN_LENGTH_ATTR_NAME,\n\tZIMBRA_PASSWORD_MIN_LOWERCASE_CHARS_ATTR_NAME,\n\tZIMBRA_PASSWORD_MIN_NUMERIC_CHARS_ATTR_NAME,\n\tZIMBRA_PASSWORD_MIN_PUNCTUATION_CHARS_ATTR_NAME,\n\tZIMBRA_PASSWORD_MIN_UPPERCASE_CHARS_ATTR_NAME,\n\tINVALID_PASSWORD_ERR_CODE, PASSWORD_RECENTLY_USED_ERR_CODE\n} from '../constants';\nimport { saveCredentials, setCookie } from '../utils';\n\nexport const submitChangePassword = (username, oldPassword, newPassword) => {\n\treturn fetch('/service/soap/ChangePasswordRequest', {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\t'Content-Type': 'application/json'\n\t\t},\n\t\tbody: JSON.stringify({\n\t\t\tBody: {\n\t\t\t\tChangePasswordRequest: {\n\t\t\t\t\t_jsns: 'urn:zimbraAccount',\n\t\t\t\t\tcsrfTokenSecured: '1',\n\t\t\t\t\tpersistAuthTokenCookie: '1',\n\t\t\t\t\taccount: {\n\t\t\t\t\t\tby: 'name',\n\t\t\t\t\t\t_content: username\n\t\t\t\t\t},\n\t\t\t\t\toldPassword: {\n\t\t\t\t\t\t_content: oldPassword\n\t\t\t\t\t},\n\t\t\t\t\tpassword: {\n\t\t\t\t\t\t_content: newPassword\n\t\t\t\t\t},\n\t\t\t\t\tprefs: [{pref: {name: 'zimbraPrefMailPollingInterval'}}]\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t});\n};\n\nconst ChangePasswordForm = ({isLoading, setIsLoading, username, configuration}) => {\n\tconst [t] = useTranslation();\n\n\tconst [oldPassword, setOldPassword] = useState('');\n\tconst [newPassword, setNewPassword] = useState('');\n\tconst [confirmNewPassword, setConfirmNewPassword] = useState('');\n\tconst [showOldPasswordError, setShowOldPasswordError] = useState(false);\n\tconst [errorLabelNewPassword, setErrorLabelNewPassword] = useState(false);\n\tconst [errorLabelConfirmNewPassword, setErrorLabelConfirmNewPassword] = useState('');\n\n\tconst onChangeOldPassword = useCallback(\n\t\t(ev) => setOldPassword(ev.target.value),\n\t\t[setOldPassword]);\n\tconst onChangeNewPassword = useCallback(\n\t\t(ev) => setNewPassword(ev.target.value),\n\t\t[setNewPassword]);\n\tconst onChangeConfirmNewPassword = useCallback(\n\t\t(ev) => setConfirmNewPassword(ev.target.value),\n\t\t[setConfirmNewPassword]);\n\n\tuseEffect(() => {\n\t\tsetErrorLabelNewPassword('');\n\t\tsetErrorLabelConfirmNewPassword('');\n\t}, [newPassword, t]);\n\n\tuseEffect(() => {\n\t\tif (newPassword && (confirmNewPassword !== newPassword)) {\n\t\t\tsetErrorLabelConfirmNewPassword(\n\t\t\t\tt(\n\t\t\t\t\t'changePassword_error_confirmPassword', 'Confirm password not valid'\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t\telse {\n\t\t\tsetErrorLabelConfirmNewPassword('');\n\t\t}\n\t}, [confirmNewPassword, newPassword, t]);\n\n\tconst submitChangePasswordCb = useCallback((e) => {\n\t\te.preventDefault();\n\t\tsetIsLoading(true);\n\t\tif (newPassword && (confirmNewPassword === newPassword) && !errorLabelNewPassword) {\n\t\t\tsubmitChangePassword(username, oldPassword, newPassword)\n\t\t\t\t.then(async (res) => {\n\t\t\t\t\tconst payload = await res.json();\n\t\t\t\t\tif (res.status === 200) {\n\t\t\t\t\t\tconst authTokenArr = payload.Body.ChangePasswordResponse.authToken;\n\t\t\t\t\t\tconst authToken = authTokenArr && authTokenArr.length > 0 ?\n\t\t\t\t\t\t\tauthTokenArr[0]._content : undefined;\n\t\t\t\t\t\tif (authToken) {\n\t\t\t\t\t\t\tsetCookie(ZM_AUTH_TOKEN, authToken);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tswitch (res.status) {\n\t\t\t\t\t\tcase 200:\n\t\t\t\t\t\t\tawait saveCredentials(username, newPassword);\n\t\t\t\t\t\t\twindow.location.assign(configuration.destinationUrl);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 401:\n\t\t\t\t\t\tcase 500:\n\t\t\t\t\t\t\tif (payload.Body.Fault?.Detail?.Error?.Code === INVALID_PASSWORD_ERR_CODE) {\n\t\t\t\t\t\t\t\tsetShowOldPasswordError(false);\n\t\t\t\t\t\t\t\tconst {a} = payload.Body.Fault.Detail.Error;\n\t\t\t\t\t\t\t\tlet currNum = a ?\n\t\t\t\t\t\t\t\t\ta.find(rec => (rec.n === ZIMBRA_PASSWORD_MAX_LENGTH_ATTR_NAME)) :\n\t\t\t\t\t\t\t\t\tundefined;\n\t\t\t\t\t\t\t\tif (currNum) {\n\t\t\t\t\t\t\t\t\tsetErrorLabelNewPassword(\n\t\t\t\t\t\t\t\t\t\tt('changePassword_error_maxLength',\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue: 'Maximum length is {{num}} characters',\n\t\t\t\t\t\t\t\t\t\t\t\treplace: {num: currNum._content}\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tcurrNum = a ?\n\t\t\t\t\t\t\t\t\ta.find(rec => rec.n === ZIMBRA_PASSWORD_MIN_LENGTH_ATTR_NAME) :\n\t\t\t\t\t\t\t\t\tundefined;\n\t\t\t\t\t\t\t\tif (currNum) {\n\t\t\t\t\t\t\t\t\tsetErrorLabelNewPassword(\n\t\t\t\t\t\t\t\t\t\tt('changePassword_error_minLength', {\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue: 'Minimum length is {{num}} characters',\n\t\t\t\t\t\t\t\t\t\t\treplace: {num: currNum._content}\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tcurrNum = a ?\n\t\t\t\t\t\t\t\t\ta.find(rec => rec.n === ZIMBRA_PASSWORD_MIN_LOWERCASE_CHARS_ATTR_NAME) : undefined;\n\t\t\t\t\t\t\t\tif (currNum) {\n\t\t\t\t\t\t\t\t\tsetErrorLabelNewPassword(\n\t\t\t\t\t\t\t\t\t\tt('changePassword_error_minLowerCaseChars',\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue: 'Expecting at least {{num}} lowercase characters',\n\t\t\t\t\t\t\t\t\t\t\t\treplace: {num: currNum._content}\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcurrNum = a ?\n\t\t\t\t\t\t\t\t\ta.find(rec => rec.n === ZIMBRA_PASSWORD_MIN_NUMERIC_CHARS_ATTR_NAME) : undefined;\n\t\t\t\t\t\t\t\tif (currNum) {\n\t\t\t\t\t\t\t\t\tsetErrorLabelNewPassword(\n\t\t\t\t\t\t\t\t\t\tt('changePassword_error_minNumericChars',\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue: 'Expecting at least {{num}} numeric characters',\n\t\t\t\t\t\t\t\t\t\t\t\treplace: {num: currNum._content}\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcurrNum = a ?\n\t\t\t\t\t\t\t\t\ta.find(rec => rec.n === ZIMBRA_PASSWORD_MIN_PUNCTUATION_CHARS_ATTR_NAME) :\n\t\t\t\t\t\t\t\t\tundefined;\n\t\t\t\t\t\t\t\tif (currNum) {\n\t\t\t\t\t\t\t\t\tsetErrorLabelNewPassword(\n\t\t\t\t\t\t\t\t\t\tt('changePassword_error_minPunctuationChars',\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue: 'Expecting at least {{num}} punctuation characters',\n\t\t\t\t\t\t\t\t\t\t\t\treplace: {num: currNum._content}\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcurrNum = a ?\n\t\t\t\t\t\t\t\t\ta.find(rec => rec.n === ZIMBRA_PASSWORD_MIN_UPPERCASE_CHARS_ATTR_NAME) :\n\t\t\t\t\t\t\t\t\tundefined;\n\t\t\t\t\t\t\t\tif (currNum) {\n\t\t\t\t\t\t\t\t\tsetErrorLabelNewPassword(\n\t\t\t\t\t\t\t\t\t\tt('changePassword_error_minUppercaseChars',\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue: 'Expecting at least {{num}} uppercase characters',\n\t\t\t\t\t\t\t\t\t\t\t\treplace: {num: currNum._content}\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if(payload.Body.Fault?.Detail?.Error?.Code === PASSWORD_RECENTLY_USED_ERR_CODE) {\n\t\t\t\t\t\t\t\tsetShowOldPasswordError(false);\n\t\t\t\t\t\t\t\tsetErrorLabelNewPassword(\n\t\t\t\t\t\t\t\t\tt('changePassword_error_passwordRecentlyUsed',\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue: 'Password recently used'\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tsetShowOldPasswordError(true);\n\t\t\t\t\t\t\t\tsetErrorLabelNewPassword('');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tsetShowOldPasswordError(false);\n\t\t\t\t\t\t\tsetErrorLabelNewPassword(t('changePassword_error_minLowerCaseChars',\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tdefaultValue: 'Expecting at least {{num}} lowercase characters',\n\t\t\t\t\t\t\t\t\treplace: {num: 6}\n\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\tif (err.message.startsWith('authentication failed')) {\n\t\t\t\t\t\tsetShowOldPasswordError(true);\n\t\t\t\t\t\tsetErrorLabelNewPassword('');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\t\tsetIsLoading(false);\n\t}, [\n\t\tsetIsLoading, newPassword, confirmNewPassword, errorLabelNewPassword, username, oldPassword,\n\t\tconfiguration.destinationUrl\n\t]);\n\n\treturn (\n\t\t<form onSubmit={submitChangePasswordCb} style={{width: '100%', height: 'auto', maxHeight: 'unset'}}>\n\t\t\t<input type=\"submit\" style={{display: 'none'}}/>\n\t\t\t<Row padding={{bottom: 'large'}}>\n\t\t\t\t<Text size=\"large\" color=\"text\" weight=\"bold\">\n\t\t\t\t\t{t('changePassword_title', 'Create a new password')}\n\t\t\t\t</Text>\n\t\t\t</Row>\n\t\t\t<Row padding={{top: 'large'}}>\n\t\t\t\t<Input\n\t\t\t\t\tdefaultValue={username}\n\t\t\t\t\tdisabled\n\t\t\t\t\tlabel='Email'\n\t\t\t\t/>\n\t\t\t</Row>\n\t\t\t<Row padding={{top: 'large'}}>\n\t\t\t\t<PasswordInput\n\t\t\t\t\tdefaultValue={oldPassword}\n\t\t\t\t\thasError={showOldPasswordError}\n\t\t\t\t\tonChange={onChangeOldPassword}\n\t\t\t\t\tlabel={t('changePassword_oldPassword', 'Old password')}\n\t\t\t\t\tbackgroundColor=\"gray5\"\n\t\t\t\t/>\n\t\t\t</Row>\n\t\t\t{showOldPasswordError &&\n\t\t\t<Row padding={{top: 'extrasmall'}} mainAlignment=\"flex-start\">\n\t\t\t\t<Text color=\"error\" size=\"medium\" overflow=\"break-word\">\n\t\t\t\t\t{t('wrong_password', 'Wrong password, please check data and try again')}\n\t\t\t\t</Text>\n\t\t\t</Row>\n\t\t\t}\n\t\t\t<Row padding={{top: 'large'}}>\n\t\t\t\t<PasswordInput\n\t\t\t\t\tdefaultValue={newPassword}\n\t\t\t\t\thasError={errorLabelNewPassword}\n\t\t\t\t\tonChange={onChangeNewPassword}\n\t\t\t\t\tlabel={t('changePassword_newPassword', 'New password')}\n\t\t\t\t\tbackgroundColor=\"gray5\"\n\t\t\t\t/>\n\t\t\t</Row>\n\t\t\t{errorLabelNewPassword &&\n\t\t\t<Row padding={{top: 'extrasmall'}} mainAlignment=\"flex-start\">\n\t\t\t\t<Text color=\"error\" size=\"medium\" overflow=\"break-word\">\n\t\t\t\t\t{errorLabelNewPassword}\n\t\t\t\t</Text>\n\t\t\t</Row>\n\t\t\t}\n\t\t\t<Row padding={{top: 'large'}}>\n\t\t\t\t<PasswordInput\n\t\t\t\t\tdefaultValue={confirmNewPassword}\n\t\t\t\t\thasError={errorLabelConfirmNewPassword}\n\t\t\t\t\tonChange={onChangeConfirmNewPassword}\n\t\t\t\t\tlabel={t('changePassword_confirmNewPassword', 'Confirm new password')}\n\t\t\t\t\tbackgroundColor=\"gray5\"\n\t\t\t\t/>\n\t\t\t</Row>\n\t\t\t{errorLabelConfirmNewPassword &&\n\t\t\t<Row padding={{top: 'extrasmall'}} mainAlignment=\"flex-start\">\n\t\t\t\t<Text color=\"error\" size=\"medium\" overflow=\"break-word\">\n\t\t\t\t\t{errorLabelConfirmNewPassword}\n\t\t\t\t</Text>\n\t\t\t</Row>\n\t\t\t}\n\t\t\t<Row\n\t\t\t\torientation=\"vertical\"\n\t\t\t\tcrossAlignment=\"flex-start\"\n\t\t\t\tpadding={{vertical: 'medium'}}\n\t\t\t>\n\t\t\t\t<Button\n\t\t\t\t\tonClick={submitChangePasswordCb}\n\t\t\t\t\tlabel={t('changePassword_confirm_label', 'Change password and login')}\n\t\t\t\t\tsize=\"fill\"\n\t\t\t\t\tloading={isLoading}\n\t\t\t\t\tdisabled={!newPassword || confirmNewPassword !== newPassword || errorLabelNewPassword}\n\t\t\t\t/>\n\t\t\t</Row>\n\t\t</form>\n\t);\n};\n\nexport default ChangePasswordForm;","/*\n * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport {\n\tButton,\n\tCheckbox,\n\tInput,\n\tRow,\n\tSelect,\n\tSnackbar,\n\tText,\n} from '@zextras/carbonio-design-system';\nimport { map } from 'lodash';\nimport React, { useCallback, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n\tpostV2Login,\n\tsubmitOtp\n} from '../services/v2-service';\nimport { saveCredentials } from '../utils';\nimport ChangePasswordForm from './change-password-form';\nimport CredentialsForm from './credentials-form';\n\nimport { OfflineModal } from './modals';\nimport Spinner from './spinner';\n\nconst formState = {\n\tcredentials: 'credentials',\n\twaiting: 'waiting',\n\ttwoFactor: 'two-factor',\n\tchangePassword: 'change-password',\n};\n\nexport default function V2LoginManager({ configuration, disableInputs }) {\n\tconst [t] = useTranslation();\n\n\tconst [loadingCredentials, setLoadingCredentials] = useState(false);\n\tconst [loadingOtp, setLoadingOtp] = useState(false);\n\tconst [progress, setProgress] = useState(formState.credentials);\n\n\tconst [authError, setAuthError] = useState(false);\n\tconst [showOtpError, setShowOtpError] = useState(false);\n\n\tconst [otpList, setOtpList] = useState([]);\n\tconst [otpId, setOtpId] = useState('');\n\tconst [otp, setOtp] = useState('');\n\tconst onChangeOtp = useCallback(\n\t\t(ev) => {\n\t\t\tsetOtp(ev.target.value);\n\t\t},\n\t\t[setOtp]\n\t);\n\tconst [trustDevice, setTrustDevice] = useState(false);\n\tconst toggleTrustDevice = useCallback(\n\t\t() => setTrustDevice((v) => !v),\n\t\t[setTrustDevice]\n\t);\n\n\tconst [email, setEmail] = useState('');\n\tconst [loadingChangePassword, setLoadingChangePassword] = useState(false);\n\n\tconst [snackbarNetworkError, setSnackbarNetworkError] = useState(false);\n\tconst [detailNetworkModal, setDetailNetworkModal] = useState(false);\n\n\tconst submitCredentials = useCallback(\n\t\t(username, password) => {\n\t\t\tsetLoadingCredentials(true);\n\t\t\treturn postV2Login('password', username, password)\n\t\t\t\t.then((res) => {\n\t\t\t\t\tswitch (res.status) {\n\t\t\t\t\t\tcase 200:\n\t\t\t\t\t\t\tsetEmail(username);\n\t\t\t\t\t\t\tif (res.redirected) {\n\t\t\t\t\t\t\t\tsetProgress(formState.changePassword);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tres.json().then(async (response) => {\n\t\t\t\t\t\t\t\t\tawait saveCredentials(username, password);\n\t\t\t\t\t\t\t\t\tif (response?.['2FA'] === true) {\n\t\t\t\t\t\t\t\t\t\tsetOtpList(\n\t\t\t\t\t\t\t\t\t\t\tmap(response?.otp ?? [], (obj) => ({\n\t\t\t\t\t\t\t\t\t\t\t\tlabel: obj.label,\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: obj.id,\n\t\t\t\t\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\tsetOtpId(response?.otp?.[0].id);\n\t\t\t\t\t\t\t\t\t\tsetProgress(formState.twoFactor);\n\t\t\t\t\t\t\t\t\t\tsetLoadingCredentials(false);\n\t\t\t\t\t\t\t\t\t}\n \t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\twindow.location.assign(configuration.destinationUrl);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 401:\n\t\t\t\t\t\t\tsetAuthError(\n\t\t\t\t\t\t\t\tt(\n\t\t\t\t\t\t\t\t\t'credentials_not_valid',\n\t\t\t\t\t\t\t\t\t'Credentials are not valid, please check data and try again'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tsetLoadingCredentials(false);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 403:\n\t\t\t\t\t\t\tsetAuthError(\n\t\t\t\t\t\t\t\tt(\n\t\t\t\t\t\t\t\t\t'auth_not_valid',\n\t\t\t\t\t\t\t\t\t'The authentication policy needs more steps: please contact your administrator for more information'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tsetLoadingCredentials(false);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tsetSnackbarNetworkError(true);\n\t\t\t\t\t\t\tsetLoadingCredentials(false);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(() => setLoadingCredentials(false));\n\t\t},\n\t\t[configuration.destinationUrl]\n\t);\n\n\tconst submitOtpCb = useCallback(\n\t\t(e) => {\n\t\t\te.preventDefault();\n\t\t\tsetLoadingOtp(true);\n\t\t\tsubmitOtp(otpId, otp, trustDevice)\n\t\t\t\t.then((res) => {\n\t\t\t\t\tif (res.status === 200) {\n\t\t\t\t\t\tif (res.redirected) {\n\t\t\t\t\t\t\tsetProgress(formState.changePassword);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\twindow.location.assign(configuration.destinationUrl);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tsetLoadingOtp(false);\n\t\t\t\t\t\tsetShowOtpError(true);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(() => setLoadingOtp(false));\n\t\t},\n\t\t[otpId, otp, trustDevice, configuration.destinationUrl]\n\t);\n\n\tconst onCloseCbk = useCallback(\n\t\t() => setDetailNetworkModal(false),\n\t\t[setDetailNetworkModal]\n\t);\n\tconst onSnackbarActionCbk = useCallback(\n\t\t() => setDetailNetworkModal(true),\n\t\t[setDetailNetworkModal]\n\t);\n\tconst onCloseSnackbarCbk = useCallback(\n\t\t() => setSnackbarNetworkError(false),\n\t\t[setSnackbarNetworkError]\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t{progress === formState.credentials && (\n\t\t\t\t<CredentialsForm\n\t\t\t\t\tconfiguration={configuration}\n\t\t\t\t\tdisableInputs={disableInputs}\n\t\t\t\t\tauthError={authError}\n\t\t\t\t\tsubmitCredentials={submitCredentials}\n\t\t\t\t\tloading={loadingCredentials}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t{progress === formState.waiting && (\n\t\t\t\t<Row\n\t\t\t\t\torientation=\"vertical\"\n\t\t\t\t\tcrossAlignment=\"center\"\n\t\t\t\t\tpadding={{ vertical: 'extralarge' }}\n\t\t\t\t>\n\t\t\t\t\t<Spinner />\n\t\t\t\t</Row>\n\t\t\t)}\n\t\t\t{progress === formState.twoFactor && (\n\t\t\t\t<form onSubmit={submitOtpCb} style={{ width: '100%' }}>\n\t\t\t\t\t<input type=\"submit\" style={{ display: 'none' }} />\n\t\t\t\t\t<Row padding={{ bottom: 'large' }}>\n\t\t\t\t\t\t<Text size=\"large\" color=\"text\" weight=\"bold\">\n\t\t\t\t\t\t\t{t('two_step_authentication', 'Two-Step-Authentication')}\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row padding={{ top: 'large' }}>\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\titems={otpList}\n\t\t\t\t\t\t\tbackground=\"gray5\"\n\t\t\t\t\t\t\tlabel={t('choose_otp', 'Choose the OTP Method')}\n\t\t\t\t\t\t\tonChange={setOtpId}\n\t\t\t\t\t\t\tdefaultSelection={otpList[0]}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row padding={{ top: 'large' }}>\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tdefaultValue={otp}\n\t\t\t\t\t\t\thasError={showOtpError}\n\t\t\t\t\t\t\tdisabled={disableInputs}\n\t\t\t\t\t\t\tonChange={onChangeOtp}\n\t\t\t\t\t\t\tlabel={t('type_otp', 'Type here One-Time-Password')}\n\t\t\t\t\t\t\tbackgroundColor=\"gray5\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row padding={{ top: 'extrasmall' }} mainAlignment=\"flex-start\">\n\t\t\t\t\t\t<Text color=\"error\" size=\"medium\" overflow=\"break-word\">\n\t\t\t\t\t\t\t{showOtpError &&\n\t\t\t\t\t\t\t\tt(\n\t\t\t\t\t\t\t\t\t'wrong_password',\n\t\t\t\t\t\t\t\t\t'Wrong password, please check data and try again'\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{!showOtpError && <br />}\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row\n\t\t\t\t\t\torientation=\"vertical\"\n\t\t\t\t\t\tcrossAlignment=\"flex-start\"\n\t\t\t\t\t\tpadding={{ vertical: 'small' }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={submitOtpCb}\n\t\t\t\t\t\t\tdisabled={disableInputs}\n\t\t\t\t\t\t\tlabel={t('login', 'Login')}\n\t\t\t\t\t\t\tsize=\"fill\"\n\t\t\t\t\t\t\tloading={loadingOtp}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row mainAlignment=\"flex-start\">\n\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\tvalue={trustDevice}\n\t\t\t\t\t\t\tlabel={t(\n\t\t\t\t\t\t\t\t'trust_device_and_ip',\n\t\t\t\t\t\t\t\t'Trust this device and IP address'\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tonClick={toggleTrustDevice}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Row>\n\t\t\t\t</form>\n\t\t\t)}\n\t\t\t{progress === formState.changePassword && (\n\t\t\t\t<ChangePasswordForm\n\t\t\t\t\tisLoading={loadingChangePassword}\n\t\t\t\t\tsetIsLoading={setLoadingChangePassword}\n\t\t\t\t\tconfiguration={configuration}\n\t\t\t\t\tusername={email}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t<Snackbar\n\t\t\t\topen={snackbarNetworkError}\n\t\t\t\tlabel={t('cant_login', 'Can not do the login now')}\n\t\t\t\tactionLabel={t('details', 'Details')}\n\t\t\t\tonActionClick={onSnackbarActionCbk}\n\t\t\t\tonClose={onCloseSnackbarCbk}\n\t\t\t\tautoHideTimeout={10000}\n\t\t\t\ttype=\"error\"\n\t\t\t/>\n\t\t\t<OfflineModal open={detailNetworkModal} onClose={onCloseCbk} />\n\t\t</>\n\t);\n}\n","// SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>\n//\n// SPDX-License-Identifier: AGPL-3.0-only\n\nimport { getDeviceModel, deviceId } from '../utils';\n\nexport function postV2Login(authMethod, user, password, service) {\n\treturn fetch('/zx/auth/v2/login', {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\t'X-Device-Model': getDeviceModel(),\n\t\t\t'X-Device-Id': deviceId(),\n\t\t\t'X-Service': 'WebUI',\n\t\t\t'Content-Type': 'application/json'\n\t\t},\n\t\tbody: JSON.stringify({\n\t\t\tauth_method: authMethod,\n\t\t\tuser,\n\t\t\tpassword\n\t\t})\n\t});\n}\n\nexport function submitOtp(id, code, trustDevice) {\n\treturn fetch('/zx/auth/v2/otp/validate', {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\t'X-Device-Model': getDeviceModel(),\n\t\t\t'X-Device-Id': deviceId(),\n\t\t\t'X-Service': 'WebUI',\n\t\t\t'Content-Type': 'application/json',\n\t\t\tversion: '2'\n\t\t},\n\t\tbody: JSON.stringify({\n\t\t\tid,\n\t\t\tcode,\n\t\t\tunsecure_device: !trustDevice\n\t\t})\n\t});\n}","/*\n * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { useCallback, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Snackbar } from '@zextras/carbonio-design-system';\n\nexport default function ServerNotResponding() {\n\tconst [ t ] = useTranslation();\n\tconst [ isOpen, setOpen ] = useState(true);\n\tconst onCloseCbk = useCallback(\n\t\t() => setOpen(false),\n\t\t[]\n\t);\n\n\treturn (\n\t\t<Snackbar\n\t\t\topen={isOpen}\n\t\t\tlabel={t('server_not_responding', 'The server is not responding. Please contact your server administrator')}\n\t\t\tonClose={onCloseCbk}\n\t\t\tautoHideTimeout={10000}\n\t\t\ttype=\"error\"\n\t\t/>\n\t);\n}\n","/*\n * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { useEffect, useState } from 'react';\nimport V1LoginManager from './v1-login-manager';\nimport V2LoginManager from './v2-login-manager';\nimport { getAuthSupported, doAuthLogout } from '../services/auth-configuration-service';\nimport ServerNotResponding from '../components-index/server-not-responding';\nimport NotSupportedVersion from '../components-index/not-supported-version';\n\nexport default function FormSelector({ destinationUrl, domain }) {\n\tconst [configuration, setConfiguration] = useState(null);\n\tconst [error, setError] = useState(false);\n\tconst [disableInputs, setDisableInputs] = useState(true);\n\n\tuseEffect(() => {\n\t\tlet componentIsMounted = true;\n\n\t\tgetAuthSupported(domain)\n\t\t\t.then((res) => {\n\t\t\t\tif (componentIsMounted) {\n\t\t\t\t\tsetConfiguration((conf) => ({\n\t\t\t\t\t\t...conf,\n\t\t\t\t\t\t...res,\n\t\t\t\t\t\tdestinationUrl\n\t\t\t\t\t}));\n\t\t\t\t\tsetDisableInputs(false);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\t// It should never happen, If the server doesn't respond this page will not be loaded\n\t\t\t\tif(componentIsMounted) setError(true);\n\t\t\t});\n\t\treturn () => {\n\t\t\tcomponentIsMounted = false;\n\t\t}\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst urlParams = new URLSearchParams(window.location.search);\n\t\tif (configuration && urlParams.has('loginOp') && urlParams.get('loginOp') === 'logout') {\n\t\t\tdoAuthLogout(configuration)\n\t\t\t\t.catch(() => console.log('Logout failed'));\n\t\t}\n\t}, [configuration]);\n\n\tif(error)\n\t\treturn <ServerNotResponding />\n\n\tif (configuration === null || !configuration.destinationUrl)\n\t\treturn <div></div>;\n\n\tif (configuration.maxApiVersion >= 2 && configuration.minApiVersion <= 2)\n\t\treturn <V2LoginManager\n\t\t\tconfiguration={configuration}\n\t\t\tdisableInputs={disableInputs}\n\t\t/>;\n\tif (configuration.maxApiVersion >= 1 && configuration.minApiVersion <= 1)\n\t\treturn <V1LoginManager\n\t\t\tconfiguration={configuration}\n\t\t\tdisableInputs={disableInputs}\n\t\t/>;\n\n\treturn <NotSupportedVersion />\n}\n","// SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>\n//\n// SPDX-License-Identifier: AGPL-3.0-only\n\nexport function getAuthSupported(domain) {\n\tconst urlParams = new URLSearchParams();\n\tif(domain) urlParams.append(\"domain\", domain);\n\treturn fetch(`/zx/auth/supported?${urlParams}`, {\n\t\tmethod: 'GET',\n\t})\n\t\t.then((res) => {\n\t\t\tif (res.status === 200) return res.json();\n\t\t\tthrow Error('Notwork Error');\n\t\t});\n}\n\nexport function doAuthLogout(configuration) {\n\treturn fetch(`/zx/auth/v${configuration.maxApiVersion}/logout`, {\n\t\tmethod: 'GET',\n\t})\n\t\t.then((res) => {\n\t\t\tif (res.status !== 200)\n\t\t\t\tthrow Error('Notwork Error');\n\t\t});\n}","/*\n * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport { useTranslation } from 'react-i18next';\nimport React, { useCallback, useState } from 'react';\n\nimport CredentialsForm from '../components-v1/credentials-form';\n\nconst zimbraLogin = (username, password) => {\n\treturn fetch('/service/soap/AuthRequest', {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\t'Content-Type': 'application/json'\n\t\t},\n\t\tbody: JSON.stringify({\n\t\t\tBody: {\n\t\t\t\tAuthRequest: {\n\t\t\t\t\t_jsns: 'urn:zimbraAccount',\n\t\t\t\t\tcsrfTokenSecured: '1',\n\t\t\t\t\tpersistAuthTokenCookie: '1',\n\t\t\t\t\tgenerateDeviceId: '1',\n\t\t\t\t\taccount: {\n\t\t\t\t\t\tby: 'name',\n\t\t\t\t\t\t_content: username\n\t\t\t\t\t},\n\t\t\t\t\tpassword: {\n\t\t\t\t\t\t_content: password\n\t\t\t\t\t},\n\t\t\t\t\tprefs: [{ pref: { name: 'zimbraPrefMailPollingInterval' } }]\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t});\n};\n\nexport function ZimbraForm({ destinationUrl }) {\n\tconst { t } = useTranslation();\n\tconst [authError, setAuthError] = useState();\n\tconst [loading, setLoading] = useState(false);\n\n\tconst submitCredentials = useCallback((username, password) => {\n\t\tsetLoading(true);\n\t\treturn zimbraLogin(username, password)\n\t\t\t.then(async (res) => {\n\t\t\t\tconst payload = await res.json();\n\t\t\t\tif (payload.Body.Fault) {\n\t\t\t\t\tthrow new Error(payload.Body.Fault.Reason.Text);\n\t\t\t\t}\n\t\t\t\tswitch (res.status) {\n\t\t\t\t\tcase 200:\n\t\t\t\t\t\twindow.location.assign(destinationUrl || window.location.origin);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 401:\n\t\t\t\t\tcase 500:\n\t\t\t\t\t\tsetAuthError(t('credentials_not_valid','Credentials are not valid, please check data and try again'));\n\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 403:\n\t\t\t\t\t\tsetAuthError(t('auth_not_valid','The authentication policy needs more steps: please contact your administrator for more information'));\n\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tsetLoading(false);\n\t\t\t\tif (err.message.startsWith('authentication failed'))\n\t\t\t\t\tsetAuthError(t('credentials_not_valid','Credentials are not valid, please check data and try again'));\n\t\t\t\telse\n\t\t\t\t\tsetAuthError(err.message);\n\t\t\t});\n\t}, []);\n\n\treturn (\n\t\t<CredentialsForm\n\t\t\tconfiguration={{ destinationUrl, authMethods: ['zimbra'] }}\n\t\t\tdisableInputs={false}\n\t\t\tauthError={authError}\n\t\t\tsubmitCredentials={submitCredentials}\n\t\t\tloading={loading}\n\t\t/>\n\t);\n}","/*\n * Copyright (C) 2011-2020 ZeXtras\n * SPDX-FileCopyrightText: 2022 Zextras <https://www.zextras.com>\n *\n * SPDX-License-Identifier: AGPL-3.0-only\n */\n\nimport React, { useCallback, useLayoutEffect, useState } from 'react';\nimport styled, { css } from 'styled-components';\nimport { Container, Link, Padding, Row, Text, Tooltip, useScreenMode, useSetCustomTheme } from '@zextras/carbonio-design-system';\nimport { forEach, set } from 'lodash';\n\nimport { useTranslation } from 'react-i18next';\nimport logoChrome from '../../assets/logo-chrome.svg';\nimport logoFirefox from '../../assets/logo-firefox.svg';\nimport logoEdge from '../../assets/logo-edge.svg';\nimport logoSafari from '../../assets/logo-safari.svg';\nimport logoOpera from '../../assets/logo-opera.svg';\nimport logoYandex from '../../assets/logo-yandex.svg';\nimport logoUC from '../../assets/logo-ucbrowser.svg';\nimport backgroundImage from '../../assets/carbonio_loginpage.jpg';\nimport backgroundImageRetina from '../../assets/carbonio_loginpage-retina.jpg';\nimport logoCarbonio from '../../assets/logo-carbonio.png';\nimport { getLoginConfig } from '../services/login-page-services';\nimport FormSelector from './form-selector';\nimport ServerNotResponding from '../components-index/server-not-responding';\nimport { ZimbraForm } from '../components-index/zimbra-form';\nimport { generateColorSet, prepareUrlForForward } from '../utils';\n\nfunction modifyTheme(draft, variant, changes) {\n\tforEach(changes, (v, k) => set(draft, k, v));\n}\n\nfunction ModifiedTheme({ changes }) {\n\tconst proxyFn = useCallback((draft, variant) => modifyTheme(draft, variant, changes), []);\n\tuseSetCustomTheme(proxyFn);\n\n\treturn null;\n}\n\nconst LoginContainer = styled(Container)`\n\tpadding: 0 100px;\n\tbackground: url(${(props) => props.backgroundImage}) no-repeat 75% center/cover;\n\tjustify-content: center;\n\talign-items: flex-start;\n\t${({ screenMode }) => screenMode === 'mobile' && css`\n\t\tpadding: 0 12px;\n\t\talign-items: center;\t\n\t`}\n\t${({ isDefaultBg }) => isDefaultBg && css`\n\t\t@media (-webkit-min-device-pixel-ratio: 1.5), (min-resolution: 144dpi) { \n\t\t\tbackground: url(${backgroundImageRetina}) no-repeat 75% center/cover;\n\t\t}\n\t`}\n`;\n\nconst FormContainer = styled.div`\n\tmax-width: 100%;\n\tmax-height: 100vh;\n\tbox-shadow: 0px 0px 20px -7px rgba(0,0,0,0.3);\n`;\n\nconst FormWrapper = styled(Container)`\n\twidth: auto;\n\theight: auto;\n\tbackground-color: ${({ theme }) => theme.palette.gray6.regular};\n\tpadding: 48px 48px 0;\n\twidth: 436px;\n\tmax-width: 100%;\n\tmin-height: 620px;\n\t// height: 100vh;\n\toverflow-y: auto;\n\t${({ screenMode }) => screenMode === 'mobile' && css`\n\t\tpadding: 20px 20px 0;\n\t\twidth: 360px;\n\t\tmax-height: 100%;\n\t\theight: auto;\n\t`}\n`;\n\nconst PhotoLink = styled(Link)``;\nconst PhotoCredits = styled(Text)`\n\tposition: absolute;\n\tbottom: ${({ theme }) => theme.sizes.padding.large};\n\tright: ${({ theme }) => theme.sizes.padding.large};\n\topacity: 50%;\n\t&, ${PhotoLink} {\n\t \tcolor: #fff;\n\t}\n\t \n\t@media(max-width: 767px) {\n\t\tdisplay: none;\n\t}\n`;\n\nexport default function PageLayout({ version, hasBackendApi }) {\n\tconst [t] = useTranslation();\n\tconst screenMode = useScreenMode();\n\tconst [logo, setLogo] = useState(null);\n\tconst [serverError, setServerError] = useState(false);\n\n\tconst urlParams = new URLSearchParams(window.location.search);\n\tconst [destinationUrl, setDestinationUrl] = useState(prepareUrlForForward(urlParams.get('destinationUrl')));\n\tconst [domain, setDomain] = useState(urlParams.get('domain') ?? destinationUrl);\n\n\tconst [bg, setBg] = useState(backgroundImage);\n\tconst [isDefaultBg, setIsDefaultBg] = useState(true);\n\tconst [editedTheme, setEditedTheme] = useState({});\n\n\tuseLayoutEffect(() => {\n\t\tlet componentIsMounted = true;\n\n\t\tif (hasBackendApi) {\n\t\t\tgetLoginConfig(version, domain, domain)\n\t\t\t\t.then((res) => {\n\t\t\t\t\tif (!destinationUrl) setDestinationUrl(prepareUrlForForward(res.publicUrl));\n\t\t\t\t\tif (!domain) setDomain(res.zimbraDomainName);\n\n\t\t\t\t\tconst _logo = {};\n\n\t\t\t\t\tif (componentIsMounted) {\n\t\t\t\t\t\tif (res.loginPageBackgroundImage) {\n\t\t\t\t\t\t\tsetBg(res.loginPageBackgroundImage);\n\t\t\t\t\t\t\tsetIsDefaultBg(false);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (res.loginPageLogo) {\n\t\t\t\t\t\t\t_logo.image = res.loginPageLogo;\n\t\t\t\t\t\t\t_logo.width = '100%';\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t_logo.image = logoCarbonio;\n\t\t\t\t\t\t\t_logo.width = '221px';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (res.loginPageSkinLogoUrl) {\n\t\t\t\t\t\t\t_logo.url = res.loginPageSkinLogoUrl;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t_logo.url = '';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (res.loginPageTitle) {\n\t\t\t\t\t\t\tdocument.title = res.loginPageTitle;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tdocument.title = t('carbonio_authentication', 'Carbonio Authentication');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (res.loginPageFavicon) {\n\t\t\t\t\t\t\tconst link = document.querySelector('link[rel*=\\'icon\\']') || document.createElement('link');\n\t\t\t\t\t\t\tlink.type = 'image/x-icon';\n\t\t\t\t\t\t\tlink.rel = 'shortcut icon';\n\t\t\t\t\t\t\tlink.href = res.loginPageFavicon;\n\t\t\t\t\t\t\tdocument.getElementsByTagName('head')[0].appendChild(link);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (res.loginPageColorSet) {\n\t\t\t\t\t\t\tconst colorSet = res.loginPageColorSet;\n\t\t\t\t\t\t\tif (colorSet.primary) {\n\t\t\t\t\t\t\t\tsetEditedTheme((et) => ({\n\t\t\t\t\t\t\t\t\t...et,\n\t\t\t\t\t\t\t\t\t'palette.primary': generateColorSet({ regular: `#${colorSet.primary}` })\n\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (colorSet.secondary) {\n\t\t\t\t\t\t\t\tsetEditedTheme((et) => ({\n\t\t\t\t\t\t\t\t\t...et,\n\t\t\t\t\t\t\t\t\t'palette.secondary': generateColorSet({ regular: `#${colorSet.secondary}` })\n\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetLogo(_logo);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\t// It should never happen, If the server doesn't respond this page will not be loaded\n\t\t\t\t\tif (componentIsMounted)\n\t\t\t\t\t\tsetServerError(true);\n\t\t\t\t});\n\t\t}\n\t\telse {\n\t\t\tsetLogo({ image: logoCarbonio, width: '221px' });\n\t\t\tdocument.title = t('carbonio_authentication', 'Carbonio Authentication');\n\t\t}\n\n\t\treturn () => {\n\t\t\tcomponentIsMounted = false;\n\t\t};\n\t}, []);\n\n\tif (serverError)\n\t\treturn <ServerNotResponding/>;\n\n\tif (logo) {\n\t\tconst logoHtml = (\n\t\t\t<img\n\t\t\t\talt=\"Logo\"\n\t\t\t\tsrc={logo.image}\n\t\t\t\twidth={logo.width}\n\t\t\t\tstyle={{\n\t\t\t\t\tmaxWidth: '100%',\n\t\t\t\t\tmaxHeight: '150px',\n\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\tmarginLeft: 'auto',\n\t\t\t\t\tmarginRight: 'auto'\n\t\t\t\t}}\n\t\t\t/>\n\t\t);\n\n\t\treturn (\n\t\t\t<LoginContainer screenMode={screenMode} isDefaultBg={isDefaultBg} backgroundImage={bg}>\n\t\t\t\t<ModifiedTheme changes={editedTheme} />\n\t\t\t\t<FormContainer>\n\t\t\t\t\t<FormWrapper mainAlignment=\"space-between\" screenMode={screenMode}>\n\t\t\t\t\t\t<Container mainAlignment=\"flex-start\" height=\"auto\">\n\t\t\t\t\t\t\t<Padding value=\"28px 0 28px\" crossAlignment=\"center\" width=\"100%\">\n\t\t\t\t\t\t\t\t<Container crossAlignment=\"center\">\n\t\t\t\t\t\t\t\t\t{logo.url\n\t\t\t\t\t\t\t\t\t\t? <a href={logo.url}>{logoHtml}</a>\n\t\t\t\t\t\t\t\t\t\t: logoHtml\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</Container>\n\t\t\t\t\t\t\t</Padding>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t\t{hasBackendApi\n\t\t\t\t\t\t\t? <FormSelector domain={domain} destinationUrl={destinationUrl}/>\n\t\t\t\t\t\t\t: <ZimbraForm destinationUrl={destinationUrl}/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<Container crossAlignment=\"flex-start\" height=\"auto\"\n\t\t\t\t\t\t\tpadding={{ bottom: 'extralarge', top: 'extralarge' }}>\n\t\t\t\t\t\t\t<Text>{t('supported_browsers', 'Supported browsers')}</Text>\n\t\t\t\t\t\t\t<Row padding={{ top: 'medium', bottom: 'extralarge' }} wrap=\"nowrap\">\n\t\t\t\t\t\t\t\t<Padding all=\"extrasmall\" right=\"small\">\n\t\t\t\t\t\t\t\t\t<Tooltip label=\"Chrome\">\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\talt=\"Logo Chrome\"\n\t\t\t\t\t\t\t\t\t\t\tsrc={logoChrome}\n\t\t\t\t\t\t\t\t\t\t\twidth=\"18px\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</Padding>\n\t\t\t\t\t\t\t\t<Padding all=\"extrasmall\" right=\"small\">\n\t\t\t\t\t\t\t\t\t<Tooltip label=\"Firefox\">\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\talt=\"Logo Firefox\"\n\t\t\t\t\t\t\t\t\t\t\tsrc={logoFirefox}\n\t\t\t\t\t\t\t\t\t\t\twidth=\"18px\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</Padding>\n\t\t\t\t\t\t\t\t<Padding all=\"extrasmall\" right=\"small\">\n\t\t\t\t\t\t\t\t\t<Tooltip label=\"Edge Chromium\">\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\talt=\"Logo Edge Chromium\"\n\t\t\t\t\t\t\t\t\t\t\tsrc={logoEdge}\n\t\t\t\t\t\t\t\t\t\t\twidth=\"18px\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</Padding>\n\t\t\t\t\t\t\t\t<Padding all=\"extrasmall\" right=\"small\">\n\t\t\t\t\t\t\t\t\t<Tooltip label=\"Safari\">\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\talt=\"Logo Safari\"\n\t\t\t\t\t\t\t\t\t\t\tsrc={logoSafari}\n\t\t\t\t\t\t\t\t\t\t\twidth=\"18px\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</Padding>\n\t\t\t\t\t\t\t\t<Padding all=\"extrasmall\" right=\"small\">\n\t\t\t\t\t\t\t\t\t<Tooltip label=\"Opera\">\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\talt=\"Logo Opera\"\n\t\t\t\t\t\t\t\t\t\t\tsrc={logoOpera}\n\t\t\t\t\t\t\t\t\t\t\twidth=\"18px\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</Padding>\n\t\t\t\t\t\t\t\t<Padding all=\"extrasmall\" right=\"small\">\n\t\t\t\t\t\t\t\t\t<Tooltip label=\"Yandex\">\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\talt=\"Logo Yandex\"\n\t\t\t\t\t\t\t\t\t\t\tsrc={logoYandex}\n\t\t\t\t\t\t\t\t\t\t\twidth=\"18px\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</Padding>\n\t\t\t\t\t\t\t\t<Padding all=\"extrasmall\" right=\"small\">\n\t\t\t\t\t\t\t\t\t<Tooltip label=\"UC\">\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\talt=\"Logo UC\"\n\t\t\t\t\t\t\t\t\t\t\tsrc={logoUC}\n\t\t\t\t\t\t\t\t\t\t\twidth=\"18px\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</Padding>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\toverflow=\"break-word\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tCopyright &copy;\n\t\t\t\t\t\t\t\t{` ${new Date().getFullYear()} Zextras, `}\n\t\t\t\t\t\t\t\t{t('all_rights_reserved', 'All rights reserved')}\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</FormWrapper>\n\t\t\t\t</FormContainer>\n\t\t\t</LoginContainer>\n\t\t);\n\t}\n\n\treturn null;\n}\n"],"names":["OfflineModal","open","onClose","useTranslation","t","title","StyledSpinner","styled","Spinner","viewBox","className","cx","cy","r","fill","strokeWidth","urlParams","URLSearchParams","window","location","search","uiList","label","value","CredentialsForm","authError","submitCredentials","configuration","disableInputs","loading","useState","get","username","setUsername","password","setPassword","hasClassicUi","setHasClassicUi","defaultUi","useMemo","getCookieKeys","includes","getCookie","setCookie","submitUserPassword","useCallback","e","preventDefault","usernameModified","has","replace","trim","samlButtonCbk","assign","destinationUrl","samlButton","authMethods","type","color","disabled","onClick","style","minHeight","useEffect","checkClassicUi","then","res","hasClassic","onSubmit","width","display","padding","bottom","defaultValue","onChange","target","hasError","autocomplete","backgroundColor","vertical","items","newUI","defaultSelection","size","overflow","orientation","crossAlignment","top","mainAlignment","V1LoginManager","setLoading","progress","setAuthError","snackbarNetworkError","setSnackbarNetworkError","detailNetworkModal","setDetailNetworkModal","authMethod","user","service","fetch","method","headers","getDeviceModel","deviceId","body","JSON","stringify","auth_method","postV1Login","status","saveCredentials","onCloseCbk","onSnackbarActionCbk","onCloseSnackbarCbk","actionLabel","onActionClick","autoHideTimeout","isLoading","setIsLoading","oldPassword","setOldPassword","newPassword","setNewPassword","confirmNewPassword","setConfirmNewPassword","showOldPasswordError","setShowOldPasswordError","errorLabelNewPassword","setErrorLabelNewPassword","errorLabelConfirmNewPassword","setErrorLabelConfirmNewPassword","onChangeOldPassword","ev","onChangeNewPassword","onChangeConfirmNewPassword","submitChangePasswordCb","Body","ChangePasswordRequest","_jsns","csrfTokenSecured","persistAuthTokenCookie","account","by","_content","prefs","pref","name","submitChangePassword","json","payload","authTokenArr","ChangePasswordResponse","authToken","length","undefined","ZM_AUTH_TOKEN","Fault","Detail","Error","Code","INVALID_PASSWORD_ERR_CODE","a","currNum","find","rec","n","ZIMBRA_PASSWORD_MAX_LENGTH_ATTR_NAME","num","ZIMBRA_PASSWORD_MIN_LENGTH_ATTR_NAME","ZIMBRA_PASSWORD_MIN_LOWERCASE_CHARS_ATTR_NAME","ZIMBRA_PASSWORD_MIN_NUMERIC_CHARS_ATTR_NAME","ZIMBRA_PASSWORD_MIN_PUNCTUATION_CHARS_ATTR_NAME","ZIMBRA_PASSWORD_MIN_UPPERCASE_CHARS_ATTR_NAME","PASSWORD_RECENTLY_USED_ERR_CODE","err","message","startsWith","height","maxHeight","weight","formState","V2LoginManager","loadingCredentials","setLoadingCredentials","loadingOtp","setLoadingOtp","setProgress","showOtpError","setShowOtpError","otpList","setOtpList","otpId","setOtpId","otp","setOtp","onChangeOtp","trustDevice","setTrustDevice","toggleTrustDevice","v","email","setEmail","loadingChangePassword","setLoadingChangePassword","postV2Login","redirected","response","map","obj","id","submitOtpCb","code","version","unsecure_device","submitOtp","background","ServerNotResponding","isOpen","setOpen","FormSelector","domain","setConfiguration","error","setError","setDisableInputs","componentIsMounted","append","getAuthSupported","conf","maxApiVersion","doAuthLogout","console","log","minApiVersion","ZimbraForm","AuthRequest","generateDeviceId","zimbraLogin","Reason","Text","origin","ModifiedTheme","changes","proxyFn","draft","variant","forEach","k","set","modifyTheme","useSetCustomTheme","LoginContainer","Container","props","backgroundImage","screenMode","css","isDefaultBg","backgroundImageRetina","FormContainer","FormWrapper","theme","palette","gray6","regular","PhotoLink","Link","PageLayout","hasBackendApi","useScreenMode","logo","setLogo","serverError","setServerError","prepareUrlForForward","setDestinationUrl","setDomain","bg","setBg","setIsDefaultBg","editedTheme","setEditedTheme","useLayoutEffect","getLoginConfig","publicUrl","zimbraDomainName","_logo","loginPageBackgroundImage","loginPageLogo","image","logoCarbonio","loginPageSkinLogoUrl","url","loginPageTitle","document","loginPageFavicon","link","querySelector","createElement","rel","href","getElementsByTagName","appendChild","loginPageColorSet","colorSet","primary","et","generateColorSet","secondary","logoHtml","alt","src","maxWidth","marginLeft","marginRight","wrap","all","right","logoChrome","logoFirefox","logoEdge","logoSafari","logoOpera","logoYandex","logoUC","Date","getFullYear","sizes","large"],"sourceRoot":""}